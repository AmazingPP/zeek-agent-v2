2.0.4-26 | 2022-03-23 11:19:46 +0100

  * Add `files_columns` table that extracts selected columns from
    on-disk files und sends them over to Zeek as a record. For
    example: `SELECT columns from files_columns("/etc/passwd",
    "$1:text,$3:count", ":")` splits `/etc/passwd` into its parts,
    extracts the user name and ID for each line, and then sends Zeek a
    record containing two fields: the name as a `string`, and the ID
    as a `count`. See the `README` for an explanation on the
    parameters that `files_columns` takes.

  * Update SQLite to 3.38.1 to give us built-in JSON support.

2.0.4-22 | 2022-03-22 17:09:08 +0100

  * GH-7: Extend the type system for table columns.

    We can now represent addresses, booleans, counts, intervals, ports,
    records, sets, times, and vectors all end-to-end, so that they arrive
    as such at Zeek. For those types that don't have a natural SQLite
    representation we internally serialize them into JSON and store that
    as BLOBS. For boolean values, we now store real bools instead of
    turning them into integers, allowing us to render them more nicely
    even without further type information. This requires a bit of compiler
    voodoo because of C++ ickyness (and a GCC bug).

    We also update our tables to use the new types where appropriate.

    Closes #7.

  * Add a 2nd 'differences' mode where no initial snapshot is
    provided. We now have (1) "snapshot-and-diffs", which sends an
    initial snapshot first, followed by diffs; and (2) "diffs", which
    sends an empty initial result and then just diffs.

  * Add Broker version to agent handshake.

  * Support default values for table parameters.

  * Make exception available to table's data acquisition methods to signal failure.

  * Fix `assert` that could wrongly trigger.

  * Fix console getting stuck on queries with errors, and reduce
    unintended latency until query executes.

  * Fix CI issue on Ubuntu.

  * Fix potential deadlock in unit test.

  * Fix trace-level debug logging.

  * Fix linker issue on Linux.

  * Make --test output available on failure in BTest suite.

  * Clean up unused state in Zeek communication code.

  * Format Zeek scripts with current zeek-format.

  * Update to current Zeek package.

2.0.4 | 2022-03-04 16:55:11 +0100

  * Add new log options. In the configuration file we now provide more
    control of log messages:

        [log]
        type=<stdout|system|file>
        level=<error|warn|info|debug|trace>
        path=<path for type 'file'>

    Default remains logging to stdout at level INFO.

  * Fine-tune log levels. We elevate some high-level messages to INFO
    level that can be useful to users, and we move some noisy debug
    messages to TRACE level (which is available only in debug builds).

  * Expose Broker's SSL options in configuration file. This also moves
    all Zeek options into a `[zeek]` section of the configuration
    file.

  * Link against standard version of OpenSSL by default. So far we
    hardcoded always using the static OpenSSL libraries. Now that's
    done only when with configured with ``--enable-static``, otherwise
    we use whatever CMake determines being the default.

  * Fix column type in `files_lines` table.

  * Fix enforcement of maximum idle timeout.

  * Add missing include to appease GCC 11.2.1.

  * Update toml++.

2.0.3 | 2022-02-22 13:36:47 +0100

  * Adapt to package's new default listening port.

  * Fix problem with column caching.

2.0.2 | 2022-02-21 16:36:16 +0100

  * Push all asynchronous activity to the main thread to avoid most
    inter-thread locking.

  * Fix configure's `--sanitizer` argument.

  * In `.schema` output, break out table parameters separately.

2.0.1 | 2022-02-21 15:26:44 +0100

  * Add a test build of the source code tarball to CI.

  * Extend query API to allow specifying tables that must/must not be
    present. Agents will ignore queries not meeting expectations.

  * Extract version information from Zeek's hello message.

  * Adapt to changes to options in the Zeek package.

  * Fix differential queries returning empty removed rows.

  * Fix time filtering for differential queries.

  * Fix double table deactivation.

  * Guard against an error case in Darwin system logs collector.

2.0.0 | 2022-02-14 16:14:48 +0100

  * Initial release.
